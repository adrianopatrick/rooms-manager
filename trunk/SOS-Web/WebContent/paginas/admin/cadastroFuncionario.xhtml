<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xml:lang="pt" lang="pt-br">

<f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Sos:Cadastro</title>
            </f:facet>
            <h:outputStylesheet name="css/default.css" />
            <h:outputStylesheet name="css/estilo.css" />
        </h:head>
        <h:body>
			<div id="global">
            <p:layout fullPage="true" >
                <p:layoutUnit id="bottom" position="south" size="30" >
                     <ui:include src="../rodape.xhtml" />
                </p:layoutUnit>
                <p:layoutUnit id="center" position="center">
					<div id="menu" >
						<ui:include src="../menu.xhtml" />						
					</div>
					<div id="corpo">
	                    <p:growl id="growl" showDetail="true" sticky="true" />
	                    <h:form >
							<p:panel header="Cadastro de Usuario" id="panelcorpo">
								<h:panelGrid >
									
									<h:inputHidden id="idUsuario" value="#{usuarioManager.usuario.id}" />
									<h:outputText value="nome: " />
									<p:inputText value="#{usuarioManager.usuario.nome}" required="true" requiredMessage="Campo Obrigat贸rio."/>
									
									<h:outputText value="E-mail: " />
									<p:inputText value="#{usuarioManager.usuario.email}" required="true" requiredMessage="Campo Obrigat贸rio.">
									 <f:ajax event="blur" listener="#{usuarioManager.validaEmail}" render="emailException"/>
									</p:inputText>
									<h:outputText id="emailException" value="#{usuarioManager.msgEmailException}" />
									
									
									<h:outputText value="Cargo: " />  
							        <h:selectOneMenu effect="fade" required="true" requiredMessage="Campo Obrigat贸rio." value="#{usuarioManager.tipoUsuario}" >  
							            <f:selectItem itemLabel="selecione" itemValue="" />
							            <f:selectItem itemLabel="Professor" itemValue="1" /> 
							            <f:selectItem itemLabel="Atendente" itemValue="2" />
							            <f:selectItem itemLabel="Administrador" itemValue="3" />
							        </h:selectOneMenu>
							        
							        <h:outputText value="Senha: " rendered="#{usuarioManager.isNew()}"/>
									<p:password value="#{usuarioManager.usuario.senha}" required="true" requiredMessage="Campo Obrigat贸rio." />
									
									<p:commandButton value="Salvar" action="#{usuarioManager.salvar()}" ajax="false" update="growl"/>
								</h:panelGrid>
								<h:message for="panelcorpo"></h:message>
							</p:panel>
		                 </h:form>
					</div>
                
                </p:layoutUnit>
            </p:layout>
            </div>
        </h:body>
        
    </f:view>
</html>